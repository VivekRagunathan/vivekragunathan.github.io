<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Hugo 0.75.1" />

  <title>PHP Savers ‚Äì PropertyBag &middot; A Developer&#39;s Experience</title>

  <meta name="description" content="" />

  

<meta itemprop="name" content="PHP Savers ‚Äì PropertyBag">
<meta itemprop="description" content="The ubiquitous and the universal data structure in PHP is the [array][1]. It is an amalgamation of commonly used data structures ‚Äì list, map etc. In the recent times, PHP has also adopted object orientation and introduced classes. The syntactic difference in the way a property of an array and object poses an inconvenience in the user code1 specifically when there is a need to interact with code that is not open for change; legacy or not.">
<meta itemprop="datePublished" content="2014-09-29T22:36:35+00:00" />
<meta itemprop="dateModified" content="2014-09-29T22:36:35+00:00" />
<meta itemprop="wordCount" content="667">



<meta itemprop="keywords" content="array,object,php,php-saver,propertybag," />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PHP Savers ‚Äì PropertyBag"/>
<meta name="twitter:description" content="The ubiquitous and the universal data structure in PHP is the [array][1]. It is an amalgamation of commonly used data structures ‚Äì list, map etc. In the recent times, PHP has also adopted object orientation and introduced classes. The syntactic difference in the way a property of an array and object poses an inconvenience in the user code1 specifically when there is a need to interact with code that is not open for change; legacy or not."/>


<meta property="og:title" content="PHP Savers ‚Äì PropertyBag" />
<meta property="og:description" content="The ubiquitous and the universal data structure in PHP is the [array][1]. It is an amalgamation of commonly used data structures ‚Äì list, map etc. In the recent times, PHP has also adopted object orientation and introduced classes. The syntactic difference in the way a property of an array and object poses an inconvenience in the user code1 specifically when there is a need to interact with code that is not open for change; legacy or not." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://okforanything.github.io/2014/09/30/php-property-bag/" />
<meta property="article:published_time" content="2014-09-29T22:36:35+00:00" />
<meta property="article:modified_time" content="2014-09-29T22:36:35+00:00" />



  <link type="text/css"
        rel="stylesheet"
        href="/css/print.css"
        media="print">

  <link type="text/css"
        rel="stylesheet"
        href="/css/poole.css">

  <link type="text/css"
        rel="stylesheet"
        href="/css/hyde.css">

  


  <link type="text/css" rel="stylesheet" href="/css/custom.css">

  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700&display=swap">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
        integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
        crossorigin="anonymous" />

  <link rel="apple-touch-icon-precomposed"
        sizes="144x144"
        href="/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="/favicon.png">

  
  </head>
<body>
  <aside class="sidebar">
  <div class="container">
    <div class="sidebar-about">
      
        
        <div class="author-image">
          <a href="/">
            <img 
              src="/images/profile.png" 
              class="img-circle img-headshot center" 
              alt="Profile Picture">
          </a>
        </div>
        
      

      <h1>A Developer&#39;s Experience</h1>

      
      <p class="lead">The romantic image of an √ºber-programmer is someone who fires up Emacs, types like a machine gun, and delivers a flawless final product from scratch. A more accurate image would be someone who stares quietly into space for a few minutes and then says Hmm. I think I‚Äôve seen something like this before ‚Äì John D. Cook</p>
      
    </div>

    <hr />

    <nav>
      <ul class="sidebar-nav">
        
        <li>
          <a href="/post/">Posts</a>
        </li><li>
          <a href="/about/">About</a>
        </li>
      </ul>
    </nav>

    <section class="social-icons">
      
      <a href="#" rel="me" title="Linkedin" target="_blank">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      
      <a href="#" rel="me" title="GitHub" target="_blank">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      
      <a href="#" rel="me" title="Twitter" target="_blank">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      
    </section>
  </div>
</aside>


  <main class="content container">
  <div class="post">
  <h1>PHP Savers ‚Äì PropertyBag</h1>

  <div class="post-date">
    <time datetime="2014-09-29T22:36:35Z">Sep 29, 2014</time> &middot; 4 min read
  </div>

  <p>The ubiquitous and the universal data structure in PHP is the [array][1]. It is an amalgamation of commonly used data structures ‚Äì list, map etc. In the recent times, PHP has also adopted object orientation and introduced classes. The syntactic difference in the way a property of an array and object poses an inconvenience in the user code<!-- raw HTML omitted --><!-- raw HTML omitted -->1<!-- raw HTML omitted --><!-- raw HTML omitted --> specifically when there is a need to interact with code that is not open for change; legacy or not.</p>
<p>JavaScript would allow you to access an object property either <code>obj.propName</code> or <code>obj[&quot;propName&quot;]</code>. That does come in handy for sure. Besides, accessing the property by <code>[]</code> tags is the only way if the property name contains characters like hyphen: <code>obj[&quot;prop-Name&quot;]</code>. At the user code level, it is fair to see an object as a bag of key-value pairs.</p>
<p>Along the same lines, it is not wrong to expect the same in PHP between an object and an array; although there is a fundamental difference<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->. The expectation arises when there is a lot of code that generates array (as output), and a lot of code that expects object (as input), or vice versa. Either code would primarily be interested in the getting or setting the properties/keys than the intrinsic. For that matter, the reasoning behind why an array or object was chosen by the author of either code is outside the scope of this post.</p>
<p>When the intent of the user code is to get/set the property or key, the syntax is just an inconvenience that gets in the way. Here is how one would access a property, or key precisely, of an array:</p>
<p>[code lang=php]</p>
<p>$arr[&ldquo;key&rdquo;] or $arr[$key]</p>
<p>[/code]</p>
<p>Here is how one would access a property of an object:</p>
<p>[code lang=php]</p>
<p>$obj-&gt;key or $obj-&gt;$key</p>
<p>[/code]</p>
<p>To cope with the impedance mismatch between the code that generates an array and the code that expects an object (or vice versa), one is cast into another:</p>
<p>[code lang=php]</p>
<p>$obj = (object) $arr;</p>
<p>[/code]</p>
<p>or</p>
<p>[code lang=php]</p>
<p>$arr = (array) $obj;</p>
<p>[/code]</p>
<p>Of course, such casting has documented limitations. The restrictions would still apply to any solution trying to address the impedance mismatch problem.</p>
<p>In PHP, arrays are a bit funny to deal with. If one has programmed in other managed environments, it is evident that arrays are reference types. In PHP, arrays are value types; or sort of<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->. In other words, when you assign an array <code>$a</code> to <code>$b</code>, then <code>$a</code> is copied to <code>$b</code>. It makes perfect sense if one wants to make a copy of the array. If the array needs to be passed over several functions for read only or update purposes, it does not make sense to make copies over and over. We can reference the array:</p>
<p>[code lang=php]</p>
<p>$b =&amp; $a;</p>
<p>[/code]</p>
<p>An object in PHP ‚Äì an instance of a [class][2] or stdClass, on the other hand, is a reference type (Thank God üôè). Here the point is to avoid unnecessary copies of arrays and objects (created when casting from an array) that are created for merely accessing the properties.</p>
<p>That‚Äôs where <code>PropertyBag</code> comes to the rescue. <code>PropertyBag</code> is an extremely useful class that can wrap over an object or an array (without creating a copy) or even create one from scratch, and make it possible to access the properties, or keys, either as an array or as an object, depending on the user code. Wherever one would return an array (or an object), an instance of PropertyBag could be returned without the need to change the code that consumes this return value. <em>The caveat here is the consumer code does not make explicit type checks or something of the sort</em>. You can grab your copy of <code>PropertyBag</code> from [github:php-savers][3] or read the excerpt of the class here below.</p>
<p><code>PropertyBag</code> primarily helps to work with array or objects seamlessly, using either the array or the object syntax to access the properties. It also helps avoid creating copies of array when it is passed across functions<!-- raw HTML omitted --><!-- raw HTML omitted -->2<!-- raw HTML omitted --><!-- raw HTML omitted -->.</p>
<p>[code lang=php]</p>
<!-- raw HTML omitted -->
</div>


  </main>

  <footer>
  <div>
    &copy; Theme by <a href="www.google.com">Soho</a> 2020

    &middot; <a href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank">CC BY-SA 4.0</a>

    
  </div>
</footer>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/js/all.min.js"
          integrity="sha256-MAgcygDRahs+F/Nk5Vz387whB4kSK9NXlDN3w58LLq0="
          crossorigin="anonymous"></script>

  

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/ocean.min.css">
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  
</body>
</html>
